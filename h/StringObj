#ifndef __cplusplus
#error Header file "String.h" may only be used from C++
#endif
#pragma force_top_level
#pragma include_only_once

#ifndef STRINGOBJ_H
#define STRINGOBJ_H

#define nullptr 0

#include <iostream.h>
#include "ClassType.h"
#include "Object.h"

class StringObj : public Object {
  public:
    StringObj();
    StringObj(const char *spl);
    StringObj(const StringObj& obj);
    StringObj(int num, char c);
    ~StringObj();
    char* c_str();
    int length();
    int size();
    int capacity();
    int max_size();
    int empty();
    char* data();
    char& at(int index);
    char& front();
    char& back();
    void clear();
    void erase();
    void swap(StringObj& obj);
    int find(char c);
    int find(char c, int idx);
    int find(const StringObj& str);
    int rfind(char c);
    int rfind(char c, int idx);
    static int getDefBufferBlock();
    static void setDefBufferBlock(int size);
    int getBufferSize();
    StringObj& operator=(const StringObj& obj);
    StringObj& operator+=(const StringObj obj);
    StringObj operator+(const StringObj& obj);
    friend ostream& operator<<(ostream& os, StringObj& s);

    void showProperties(){};
    char* getClassName() { return "StringObj";};
    int getClassType() { return ClassType_StringObj;};
  private:
    enum {DEF_BUF_BLOCK_SIZE = 256};
    char *sp;
    int len;
    int bufferSize;
    static int defBufferBlock;
};

#endif

